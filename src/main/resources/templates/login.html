<!DOCTYPE html>
<html lang="id" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8" />
		<title>Login</title>
	</head>
	<body>
		<h1>Login</h1>
		<div th:if="${successMessage}" style="color: green">
			<p th:text="${successMessage}"></p>
		</div>

		<form th:action="@{/login}" method="post" th:object="${loginDto}">
			<div th:if="${#fields.hasErrors()}">
				<ul style="color: red">
					<li th:each="err : ${#fields.errors('*')}" th:text="${err}"></li>
				</ul>
			</div>
			<input
				type="hidden"
				th:name="${_csrf.parameterName}"
				th:value="${_csrf.token}"
			/>

			<div>
				<label for="email">Email</label>
				<input id="email" type="email" th:field="*{email}" required />
			</div>

			<div>
				<label for="password">Password</label>
				<input id="password" type="password" th:field="*{password}" required />
			</div>

			<div>
				<button type="submit">Login</button>
			</div>
		</form>

		<p>Dont have an account? <a th:href="@{/register}">Register</a></p>
	</body>
</html>
